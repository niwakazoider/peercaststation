<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>PeerCastStation - 設定</title>
    <link type="text/css" href="bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    <script type="text/javascript" src="jquery/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" src="bootstrap/js/bootstrap.min.js"></script>
    <style type="text/css">img { max-width:none; }</style>
    <script type="text/javascript">
      $(function() {
        $('.dropdown-toggle').dropdown();
      });
    </script>
  </head>
  <body>
    
    <div class="navbar">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="brand" href="#">PeerCastStation</a>
          <ul class="nav">
            <li><a href="/html/index.html">情報</a></li>
            <li><a href="/html/relays.html">リレー</a></li>
            <li><a href="/html/settings.html">設定</a></li>
            <li><a href="/html/logs.html">ログ</a></li>
            <li class="active"><a href="index.html">ヘルプ</a></li>
          </ul>
        </div>
      </div>
    </div>
    <div class="container-fluid">
      <div class="row-fluid">
        <ul class="span12 nav nav-tabs">
          <li ><a href="index.html"    >PeerCastStationについて</a></li>
          <li ><a href="usage.html"    >使い方</a></li>
          <li ><a href="broadcast.html">配信</a></li>
          <li  class="active" ><a href="settings.html" >設定</a></li>
          <li ><a href="misc.html"     >その他</a></li>
        </ul>
      </div>
    </div>
    
    
    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span3">
          <ul class="nav nav-tabs nav-stacked">
            <li><a href='#section'>設定方法</a></li>
<li><a href='#gui'>設定 - GUI編</a></li>
<li><a href='#section-1'>接続待ち受けポート</a></li>
<li><a href='#section-2'>接続数設定</a></li>
<li><a href='#yp'>YP設定</a></li>
<li><a href='#ui'>UI設定</a></li>
<li><a href='#html-ui'>設定 - HTML UI編</a></li>
          </ul>
        </div>
        <div class="span9">
          <h1 id="section">設定方法</h1>

<h2 id="gui">設定 - GUI編</h2>
<p>GUIの設定タブで各種設定を編集することができます。</p>

<p><img src="images/gui_settings.png" alt="設定画面" /></p>

<h3 id="section-1">接続待ち受けポート</h3>
<p>ポート一覧には現在接続待ち受けをしているポートが表示されます。</p>

<p>追加を押すと待ち受けをしているポートを追加することができます。</p>

<p><img src="images/gui_addport.png" alt="ポート追加画面" /></p>

<table class="table">
  <tbody>
    <tr>
      <td>アドレス</td>
      <td>接続待ち受けをするアドレスを指定します。通常IPv4 Anyのままで大丈夫です。特定のインターフェースでのみ待ち受けをする場合はアドレスを指定してください。IPv6アドレスも指定できますが現状では無意味です。</td>
    </tr>
    <tr>
      <td>ポート</td>
      <td>追加する接続待ち受けポート番号を指定します。</td>
    </tr>
    <tr>
      <td>LAN内からの接続を許可</td>
      <td>このポートにLAN内から接続された時に許可する操作を指定します。 リレーはリレー接続の受け付けを許可、視聴は直接視聴接続の受け付けを許可、操作はHTML UIへの接続など操作系への受け付けを許可します。要認証を有効にすると操作と視聴のアクセスがされた場合にIDとパスワードの入力を要求します。通常は要証以外全部ONで大丈夫です。</td>
    </tr>
    <tr>
      <td>WANからの接続を許可</td>
      <td>このポートに外部ネットワークから接続された時に許可する操作を指定します。 リレーはリレー接続の受け付けを許可、視聴は直接視聴接続の受け付けを許可、操作はHTML UIへの接続など操作系への受け付けを許可します。通常はリレーのみONにしておいてください。要認証を有効にすると操作と視聴のアクセスがされた場合にIDとパスワードの入力を要求します。操作や視聴をONにする場合は要認証もONにすることをおすすめします。</td>
    </tr>
    <tr>
      <td>認証ID・認証パスワード</td>
      <td>要認証をONの状態でHTML UIへのアクセスや視聴をしようとした際に求められるIDとパスワードを表します。安全のため自動生成のみになっています。再生成ボタンを押すとIDとパスワードを生成しなおします。</td>
    </tr>
  </tbody>
</table>

<p>追加ボタンを押すと指定したポートがリストに追加されます。接続待ち受けが開始できなかった場合はリストへの追加が行われません。既に別なアプリケーションが指定したポートで接続待ち受けをしている可能性があるので、そのアプリケーションを終了後に再度追加してください。</p>

<p>既に接続待ち受けをしているポートを選択すると、下のチェックボックスで接続許可設定を変更することが可能です。通常変更することはありません。</p>

<h3 id="section-2">接続数設定</h3>
<p>最大接続数などの設定を変更することができます。</p>

<dl>
  <dt>最大リレー数(合計)</dt>
  <dd>PeerCastStation全体で許可する最大リレー数を指定します。0を設定すると制限無しになります。0でも問題ありません。</dd>
  <dt>最大リレー数(チャンネル毎)</dt>
  <dd>チャンネル毎に許可する最大リレー数を指定します。0を設定すると制限無しになります。0でも問題ありませんが特定のチャンネルでリレーが埋まるのを回避したい場合は適当な数を指定しておいてください。</dd>
  <dt>最大視聴数(合計)</dt>
  <dd>PeerCastStation全体で許可する最大直接視聴数を指定します。0を設定すると制限無しになります。通常、視聴はLAN内のみなので0で全く問題ありません。</dd>
  <dt>最大視聴数(チャンネル毎) </dt>
  <dd>チャンネル毎に許可する最大直接視聴数を指定します。0を設定すると制限無しになります。通常、視聴はLAN内のみなので0で全く問題ありません。</dd>
  <dt>最大上り帯域(合計)</dt>
  <dd>同時にリレーできるチャンネルのビットレート合計を設定します。回線の上り速度計測をして出た値の70～80%程度を指定してください(kbps単位)。ここの値はリレーにとても影響が大きいので正しく設定してください。0は制限無しではなく0kbpsとして扱われるので注意してください。</dd>
  <dt>最大上り帯域(チャンネル毎)</dt>
  <dd>チャンネル毎のリレーできるビットレート合計を設定します。0は制限無しですが、この場合も最大上り帯域(合計)での制限がつきます。基本的には0を指定してかまいませんが、複数チャンネルをリレーする際に1つのチャンネルで帯域が埋まると困る場合はこの項目で1チャンネルに割り当てる最大帯域を指定してください。</dd>
  <dt>上り帯域計測</dt>
  <dd>上り帯域を計測して結果を「最大上り帯域(合計)」に設定します。ボタンを押すと計測開始し、しばらくすると計測結果が表示されて最大上り帯域(合計)として自動的に設定されます。最大上り帯域に何を設定していいかわからない場合はこのボタンを押しておくといいでしょう。</dd>
  <dt>チャンネル自動切断</dt>
  <dd>一定時間特定の状態にあるチャンネルを自動切断します。次のいずれかを選択してください。

    <table class="table">
      <tbody>
        <tr>
          <td>自動切断しない</td>
          <td>自動切断をしません</td>
        </tr>
        <tr>
          <td>接続していないチャンネル</td>
          <td>設定した時間の間ERRORやIDLEの状態(接続されていない状態)にあるチャンネルをチャンネル一覧から自動的に削除します</td>
        </tr>
        <tr>
          <td>リレー・視聴していないチャンネル</td>
          <td>設定した時間の間リレーも視聴もされていないチャンネルをチャンネル一覧から自動的に削除します</td>
        </tr>
        <tr>
          <td>視聴していないチャンネル</td>
          <td>設定した時間の間視聴もされていないチャンネルをチャンネル一覧から自動的に削除します。リレーが行われていても自分で視聴していない限り切断してします</td>
        </tr>
      </tbody>
    </table>
  </dd>
  <dt>チャンネル自動切断までの時間(分)</dt>
  <dd>チャンネル自動切断で指定した自動切断が発生するまでの時間を分単位で指定します。0を指定すると自動切断は行いません。</dd>
</dl>

<p>設定を変更した場合は適用ボタンを押してください。</p>

<h3 id="yp">YP設定</h3>
<p>配信を掲載するYPを設定します。追加ボタンを押すとYP追加ウィンドウが出ます。</p>

<p><img src="images/gui_addyp.png" alt="YP追加ウィンドウ" /></p>

<table class="table">
  <tbody>
    <tr>
      <td>YP名</td>
      <td>YPの表示名を指定します。表示に使うだけの名前なのでなんでもいいですが、わかりやすい物にしておきましょう。</td>
    </tr>
    <tr>
      <td>プロトコル</td>
      <td>YPへの掲載プロトコルを指定します。今のところPCPしか無いのでPCPを選択してください。</td>
    </tr>
    <tr>
      <td>アドレス</td>
      <td>YPのホスト名を指定します。http://～/のようなブラウザで見るためのアドレスとは異なるので注意してください。基本的にはホスト名だけ指定すれば大丈夫ですが、YPによってはホスト名:ポート番号の形式で指定する必要があります。各YPの掲載方法の情報を確認してください。</td>
    </tr>
  </tbody>
</table>

<p>追加ボタンを押すとYP一覧に設定したYPが追加されます。追加ボタンを押しても何も起きない場合は設定に不備があります。たいていはアドレスの部分の形式が上手くいってないので「ホスト名」または「ホスト名:ポート番号」の形式で入力するようにしてください。</p>

<p>リストでYPを選択して削除ボタンを押すと削除できます。設定変更はできないので、変更する場合は一旦削除してから再度追加してください。</p>

<h3 id="ui">UI設定</h3>
<p>起動時にウィンドウを表示するのチェックを入れておくと、起動時にGUIが表示されます。既定値はこの状態です。</p>

<p>チェックを外すと起動時にはウィンドウの表示がされません。ステータスアイコンのダブルクリックか右クリックメニューからGUIを表示を選んだ時に初めて表示されるようになります。</p>

<h2 id="html-ui">設定 - HTML UI編</h2>
<p>ナビゲーションの設定リンクから各種設定のページを開きます。</p>

<p><img src="images/htmlui_settings.png" alt="設定ページ" /></p>

<p>それぞれの設定方法はGUI編とだいたい同じなので上を見てください。</p>


        </div>
      </div>
    </div>
  </body>
</html>
